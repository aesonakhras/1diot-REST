(function(e){function t(t){for(var o,r,i=t[0],c=t[1],u=t[2],m=0,d=[];m<i.length;m++)r=i[m],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);l&&l(t);while(d.length)d.shift()();return n.push.apply(n,u||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],o=!0,i=1;i<a.length;i++){var c=a[i];0!==s[c]&&(o=!1)}o&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var o={},s={app:0},n=[];function r(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=o,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(a,o,function(t){return e[t]}.bind(null,o));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";var o=a("85ec"),s=a.n(o);s.a},"0a96":function(e,t,a){},2205:function(e,t,a){},3270:function(e,t,a){},"32e1":function(e,t,a){"use strict";var o=a("0a96"),s=a.n(o);s.a},4823:function(e,t,a){"use strict";var o=a("8133"),s=a.n(o);s.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("body",[e._m(0),a("div",{attrs:{id:"app"}},[a("router-view")],1)])},n=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("head",[a("link",{attrs:{rel:"shortcut icon",type:"image/png",href:"/static/logo.ico"}})])}],r={name:"app",watch:{$route:function(e,t){document.title=e.meta.title||"1DIOT"}},computed:{pageTitle:function(){return this.$route.meta.title}},created:function(){document.title=this.$route.meta.title}},i=r,c=(a("034f"),a("2877")),u=Object(c["a"])(i,s,n,!1,null,null,null),l=u.exports,m=a("8c4f"),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"info"})},h=[],p={name:"Page not found",created:function(){window.location.href="/404.html"}},v=p,f=(a("db02"),Object(c["a"])(v,d,h,!1,null,null,null)),g=f.exports,w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._m(0),a("div",{staticClass:"animated bounceInUp"},[a("transition",{attrs:{"leave-active-class":"animated bounceOutDown"}},[e.selected?e._e():a("div",{staticClass:"inputContainer"},[a("button",{staticClass:"glow-on-hover",on:{click:e.initialRoom}},[e._v("Join a Room")])])])],1),a("br"),a("div",{staticClass:"animated bounceInUp"},[a("transition",{attrs:{"leave-active-class":"animated bounceOutDown"}},[e.selected?e._e():a("div",{staticClass:"inputContainer"},[a("button",{staticClass:"glow-on-hover",on:{click:e.initialCreate}},[e._v("Create a Room")])])])],1),a("br"),a("div",{staticClass:"animated bounceInUp"},[a("transition",{attrs:{"leave-active-class":"animated bounceOutDown"}},[e.selected?e._e():a("div",{staticClass:"inputContainer"},[a("button",{staticClass:"glow-on-hover",on:{click:e.initialView}},[e._v("View a Room")])])])],1),a("transition",{attrs:{"enter-active-class":"animated flipInX delay-1s","leave-active-class":"animated flipOutX"}},["join"===e.type||"create"==e.type?a("div",{staticClass:"inputContainer"},[a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"email",placeholder:"Room Code",maxlength:"4",autocomplete:"off",autocapitalize:"none"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})])]):e._e()]),a("transition",{attrs:{"enter-active-class":"animated flipInX delay-1s","leave-active-class":"animated flipOutX"}},["view"===e.type?a("div",{staticClass:"inputContainer"},[a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],attrs:{type:"email",placeholder:"Room Code",maxlength:"4",autocomplete:"off",autocapitalize:"none"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}})])]):e._e()]),a("br"),a("transition",{attrs:{"enter-active-class":"animated flipInX","leave-active-class":"animated flipOutX"}},[e.sub&&"join"===e.type||e.sub&&"create"==e.type?a("div",{staticClass:"inputContainer"},[a("br"),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],attrs:{type:"email",placeholder:"Username",maxlength:"10",autocapitalize:"none"},domProps:{value:e.username},on:{input:function(t){t.target.composing||(e.username=t.target.value)}}})])]):e._e()]),a("br"),a("transition",{attrs:{"enter-active-class":"animated slideInRight","leave-active-class":"animated slideOutLeft"}},[e.sub&&"view"==e.type?a("div",{staticClass:"inputContainer"},[a("button",{staticClass:"glow-on-hover",on:{click:e.view}},[e._v("View Room")])]):e._e()]),a("transition",{attrs:{"enter-active-class":"animated slideInRight","leave-active-class":"animated slideOutLeft"}},[e.sub&&"join"===e.type&&e.name?a("div",{staticClass:"inputContainer"},[a("button",{staticClass:"glow-on-hover",on:{click:e.join}},[e._v("Join Room")])]):e._e()]),a("br"),a("transition",{attrs:{"enter-active-class":"animated slideInRight","leave-active-class":"animated slideOutLeft"}},[e.sub&&"create"==e.type&&e.name?a("div",{staticClass:"inputContainer"},[a("button",{staticClass:"glow-on-hover",on:{click:e.create}},[e._v("Create Room")])]):e._e()])],1)},b=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"logoContainer"},[a("div",[a("h1",{staticClass:"animated jackInTheBox"},[e._v("1DIOT")])])])}],y=a("bc3a"),_=a.n(y),$={name:"Landing",data:function(){return{code:"",username:"",selected:!1,type:null}},methods:{initialRoom:function(e){e&&(this.selected=!0,this.type="join")},initialCreate:function(e){e&&(this.selected=!0,this.type="create")},initialView:function(e){e&&(this.selected=!0,this.type="view")},addCode:function(){this.code.push({code:this.code})},addName:function(){this.username.push({username:this.username})},view:function(e){var t=this;console.log("View");var a="/api/rooms/"+this.code;_.a.get(a).then((function(e){console.log("Room found."),t.$router.push("/spectator/"+t.code)})).catch((function(e){t.showRoomError({message:"Room "+t.code+" does not exist!"})}))},join:function(e){var t=this,a=this;if(e){var o="/api/rooms/"+this.code;_.a.get(o).then((function(e){console.log("Room found.");var o="api/rooms/"+t.code+"/adduser";_.a.post(o,{user_name:a.username}).then((function(e){console.log("Player added."),a.$router.push("/lobby/"+a.code+"/"+a.username)})).catch((function(e){a.showNameError({message:"Username "+a.username+" already exists!"})}))})).catch((function(e){a.showRoomError({message:"Room "+a.code+" does not exist!"})}))}},create:function(e){var t=this;if(e){var a="/api/rooms/"+this.code;_.a.get(a).then((function(e){t.showRoomCError({message:"Room "+t.code+" already exists!"})})).catch((function(e){console.log("room ok to create"),_.a.post("/api/rooms/",{user_list:[t.username],host:t.username,room_code:t.code,state:"W"}).then((function(e){console.log("room created, entering..."),t.$router.push("/lobby/"+t.code+"/"+t.username)})).catch((function(e){console.log(e)}))}))}},output:function(){console.log("10 seconds have succumbed to the time master, master of all time and space. None is beyond his grasp, the flowing sands of time lightly and tenderly shift through his all encompasing hands. You cannot escape him for he is immortal; As you get older, he gets younger. \n lo and behold, for epoch man himself looks directly in the face of the time master. For while the time master progresses steadily forever into that as what we know as the great and everpresent void of spacetime, epoch man journeys in the golden span of 1901 to 2038 in the year of our lord. Epoch man knows all that is and ever was for this era. He knows of your failures, embarrassments, secrets, and most prevalent; your future. while the time master must walk alongside you, epoch man is and has been where you are and are not. Who is more powerful? ...Only time will tell.")}},computed:{sub:function(){return 4==this.code.length},name:function(){return this.username.length>=1}},mounted:function(){var e=this;window.setInterval((function(){e.output()}),1e4)},notifications:{showRoomError:{title:"Invalid Room",message:"Room does not exist.",type:"error"},showRoomCError:{title:"Room Exists",message:"Room already exists!",type:"error"},showNameError:{title:"Username Taken",message:"That username is already taken!",type:"error"}}},C=$,I=(a("9c7e"),Object(c["a"])(C,w,b,!1,null,"5daa6ecc",null)),G=I.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"room-info"},[e.isHost===e.$route.params.username?a("h1",[e._v("You are the host")]):e._e(),a("div",{staticClass:"code-info"},[a("h1",{staticClass:"room-text"},[e._v("Code: ")]),a("br"),a("h1",{staticClass:"room-code"},[e._v(e._s(e.$route.params.code)+" ")])]),a("h1",{staticStyle:{"font-size":"1.25rem"}},[e._v("Players in the room:")])]),e._l(e.players,(function(t){return a("div",{key:t,staticClass:"centerContainer"},[t===e.$route.params.username?a("div",{staticClass:"user-tag player"},[e._v(" "+e._s(t)+" ")]):a("div",{staticClass:"user-tag other"},[e._v(" "+e._s(t)+" ")])])})),a("div",{staticClass:"centerContainer"},[a("br"),a("br"),e.isHost===e.$route.params.username?a("button",{staticClass:"glow-on-hover",on:{click:e.gotoGame}},[e._v("Everyone is in!")]):e._e(),a("button",{staticClass:"glow-on-hover",on:{click:e.leaveGame}},[e._v("Leave Game")]),e.isHost===e.$route.params.username?a("button",{staticClass:"glow-on-hover",on:{click:e.endGame}},[e._v("Close Lobby")]):e._e()])],2)},T=[],O={name:"lobby",data:function(){return{players:[],state:"W",playerReady:"W",host:"",updateTimer:null}},methods:{lobbyPlayers:function(){var e=this;_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.players=t.data.user_list})).catch((function(t){e.showGetErr({message:t,title:"lobbyPlayers"})}))},testGet:function(e){var t=this;e&&_.a.get("/api/rooms/"+t.$route.params.code+"/getanswers").then((function(e){console.log("Getting answers"),console.log(e.data[0].user_name)})).catch((function(e){t.showGetErr({message:e,title:"testGet"})}))},switchGame:function(){console.log("Game switch!"),window.clearInterval(self.updateTimer),this.$router.push("/game/"+this.$route.params.code+"/"+this.$route.params.username).catch((function(e){}))},gotoGame:function(){var e=this;if(event){if(this.players.length<=2)return void this.showNumErr();window.clearInterval(e.updateTimer),_.a.post("/api/rooms/"+e.$route.params.code+"/setnewquestion",{}).then((function(){_.a.post("/api/rooms/"+e.$route.params.code+"/setwronguser",{}).then((function(){_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"A"}).then((function(t){_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"A"}),_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"A"}),e.switchGame()})).catch((function(t){e.showGetErr({message:t,title:"gotoGame"})}))}))}))}},isGame:function(){var e=this;console.log("getting game state"),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.state=t.data.state})).catch((function(t){e.showGetErr({message:t,title:"isGame"})})),"A"===this.state?(console.log("isGame"),window.clearInterval(e.updateTimer),this.switchGame()):"D"===this.state&&(window.clearInterval(e.updateTimer),_.a.post("/api/rooms/"+e.$route.params.code+"/removeuser",{user_name:e.$route.params.username}).catch((function(t){e.showGetErr({message:t,title:"isGame"})})),this.host===this.$route.params.username&&e.endGameNoMouse(),this.$router.push("/").catch((function(e){})))},leaveGame:function(e){var t=this;e&&(this.host===this.$route.params.username?t.endGameNoMouse():(window.clearInterval(t.updateTimer),_.a.post("/api/rooms/"+t.$route.params.code+"/removeuser",{user_name:t.$route.params.username}).catch((function(e){t.showGetErr({message:e,title:"leaveGame - lobby"})})),this.$router.push("/").catch((function(e){}))))},endGame:function(e){var t=this;e&&(window.clearInterval(t.updateTimer),_.a.post("/api/rooms/"+t.$route.params.code+"/setstate",{state:"D"}).then((function(e){_.a.post("/api/rooms/"+t.$route.params.code+"/removeuser",{user_name:t.$route.params.username}).then((function(){t.$router.push("/").catch((function(e){}))})).catch((function(e){t.showGetErr({message:e,title:"endGame - lobby"})}))})).catch((function(e){t.showGetErr({message:e,title:"endGame - lobby"})})))},endGameNoMouse:function(){var e=this;_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"D"}).then((function(t){window.clearInterval(e.updateTimer),_.a.post("/api/rooms/"+e.$route.params.code+"/removeuser",{user_name:e.$route.params.username}).then((function(){e.$router.push("/").catch((function(e){}))})).catch((function(t){e.showGetErr({message:t,title:"endGameNoMouse - lobby"})}))})).catch((function(t){e.showGetErr({message:t,title:"endGameNoMouse - lobby"})}))}},asyncComputed:{isHost:function(){var e=this;return _.a.get("/api/rooms/"+e.$route.params.code).then((function(e){return e.data.host}))}},created:function(){var e=this;_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){console.log(t.data.user_list),e.players=t.data.user_list})).catch((function(t){e.showGetErr({message:t,title:"created - lobby"})})),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.host=t.data.host})).catch((function(t){e.showGetErr({message:t,title:"created - lobby"})})),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){console.log("Got State"),e.state=t.data.state})).catch((function(t){e.showGetErr({message:t,title:"created - lobby"})})),document.title=this.$route.params.code+" - Lobby",this.playerReady="W"},mounted:function(){var e=this;this.updateTimer=window.setInterval((function(){e.lobbyPlayers(),e.host!=e.$route.params.username&&e.isGame()}),3e3)},notifications:{showGetErr:{title:"Request Error",message:"Issue goes here",type:"error"},showNumErr:{title:"Too Few Players",message:"You need at least three users to start a game!",type:"error"}}},k=O,R=(a("85af"),Object(c["a"])(k,E,T,!1,null,"adf182ce",null)),D=R.exports,x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.sub<1?a("div",[a("div",{staticClass:"centered"},[a("div",{staticClass:"time"},[e._v(e._s(e.time))])]),a("div",{staticClass:"centered"},[a("button",{staticClass:"glow-on-hover",on:{click:function(t){e.show=!e.show}}},[e._v("Show role")])]),e.faker===e.$route.params.username&&e.show?a("h1",{staticStyle:{"font-size":"1.3rem"}},[e._v("(You are the odd one out)")]):e._e(),e.faker!=e.$route.params.username&&e.show?a("h1",{staticStyle:{"font-size":"1.3rem"}},[e._v("(You are not the odd one out)")]):e._e(),a("h1",[e._v("Question:")]),a("div",{staticClass:"centered"},[e.$route.params.username!=e.faker?a("div",[e._v(" "+e._s(e.gQuestion)+" ")]):e._e(),e.$route.params.username===e.faker?a("div",[e._v(" "+e._s(e.bQuestion)+" ")]):e._e()]),a("br"),a("div",{staticClass:"centered"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.ans,expression:"ans"}],attrs:{type:"text",placeholder:"Answer",disabled:1==e.sub},domProps:{value:e.ans},on:{input:function(t){t.target.composing||(e.ans=t.target.value)}}})]),a("div",{staticClass:"centered"},[a("button",{staticClass:"glow-on-hover",attrs:{disabled:1==e.sub},on:{click:e.submit}},[e._v("submit")])]),a("br"),a("hr"),a("br"),a("div",{staticClass:"centered"},[a("button",{staticClass:"glow-on-hover",on:{click:e.left}},[e._v("Leave game (ends game)")])])]):a("div",[a("div",{staticClass:"centered"},[e._v("You have submitted your answer!")])])])},j=[],q=(a("4c53"),{name:"game",data:function(){return{players:[],state:"A",playerReady:"A",host:"",faker:"",qID:1,sub:0,ans:"",gQuestion:"",bQuestion:"",stateTimer:null,gameTimer:null,time:60,show:!1}},methods:{submit:function(e){var t=this;e&&(0===this.sub?(_.a.post("/api/rooms/"+t.$route.params.code+"/submitanswer",{user_name:t.$route.params.username,answer:t.ans}),this.sub=1):t.showAnsErr({message:"You've already submitted an answer!"}))},autoSubmit:function(){var e=this;0===this.sub&&(_.a.post("/api/rooms/"+e.$route.params.code+"/submitanswer",{user_name:e.$route.params.username,answer:e.ans}),this.sub=1)},leaveGame:function(){var e=this;_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"D"}).then((function(t){window.clearInterval(e.stateTimer),window.clearInterval(e.gameTimer),_.a.post("/api/rooms/"+e.$route.params.code+"/removeuser",{user_name:e.$route.params.username}).then((function(){e.$router.push("/").catch((function(e){}))})).catch((function(t){e.showGetErr({message:t,title:"leaveGame Error"})}))})).catch((function(t){e.showGetErr({message:t,title:"leaveGame Error"})}))},gotoVoting:function(){window.clearInterval(this.stateTimer),window.clearInterval(this.gameTimer),this.$router.push("/voting/"+this.$route.params.code+"/"+this.$route.params.username).catch((function(e){}))},left:function(e){e&&(console.log("player left"),this.leaveGame())},getState:function(){var e=this;console.log("got state"),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.state=t.data.state,"V"===e.state?e.gotoVoting():"D"===e.state&&e.leaveGame()})).catch((function(t){e.showGetErr({message:t,title:"getState error"})})),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.faker=t.data.user_wrong,console.log(e.faker)}))},getInfo:function(){var e=this;_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.host=t.data.host,e.faker=t.data.user_wrong,e.players=t.data.player_list,e.state=t.data.state,e.qID=t.data.question_id,_.a.get("/api/questions/"+e.qID+"/wrong").then((function(t){e.bQuestion=t.data.prompt})).catch((function(t){e.showGetErr({message:t,title:"getInfo"}),e.getInfo()})),_.a.get("/api/questions/"+e.qID+"/right").then((function(t){e.gQuestion=t.data.prompt})).catch((function(t){e.showGetErr({message:t,title:"getInfo"}),e.getInfo()}))})).catch((function(t){e.showGetErr({message:t,title:"getInfo"}),e.getInfo()}))}},asyncComputed:{getQ:function(){var e=this;return _.a.get("/api/rooms/"+e.$route.params.code).then((function(e){return e.data.host}))}},created:function(){var e=this;document.title=this.$route.params.code+" - Game",_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.host=t.data.host,e.faker=t.data.user_wrong,e.players=t.data.player_list,e.state=t.data.state,e.qID=t.data.question_id,_.a.get("/api/questions/"+e.qID+"/wrong").then((function(t){e.bQuestion=t.data.prompt})).catch((function(t){e.showGetErr({message:t,title:"created"}),e.getInfo()})),_.a.get("/api/questions/"+e.qID+"/right").then((function(t){e.gQuestion=t.data.prompt})).catch((function(t){e.showGetErr({message:t,title:"created"}),e.getInfo()}))})).catch((function(t){e.showGetErr({message:t,title:"created"}),e.getInfo()}))},mounted:function(){var e=this;this.stateTimer=window.setInterval((function(){e.getState()}),2e3),this.gameTimer=window.setInterval((function(){0===e.time?e.autoSubmit():e.time=e.time-1}),1e3)},notifications:{showGetErr:{title:"Request Error",message:"Issue goes here",type:"error"},showAnsErr:{title:"Already submitted!",message:"issue",type:"error"},showOddNotif:{title:"You're the odd one out!",message:"Fool the other players!",type:"info"}}}),S=q,A=(a("32e1"),Object(c["a"])(S,x,j,!1,null,"8f238e1c",null)),P=A.exports,V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[0==e.voted?a("div",[a("h1",[e._v("There are "+e._s(e.votes)+" votes for you")]),a("h1",[e._v("Users have answered: ")]),a("div",{staticClass:"centered"},e._l(e.answers,(function(t){return a("button",{key:t,staticClass:"card animated rollIn",attrs:{disabled:1==e.voted},on:{click:function(a){return e.makeVote(t.user_name)}}},[a("div",{staticClass:"top"},[e._v(" "+e._s(t.user_name)+" said: ")]),a("div",{staticClass:"bottom"},[e._v(" "+e._s(t.answer)+" "),a("br")])])})),0),a("br"),a("div",{staticClass:"centerContainer"},[a("button",{staticClass:"glow-on-hover",attrs:{disabled:1==e.voted},on:{click:e.lock}},[e._v("Lock in vote")])])]):1==e.voted?a("div",[a("div",{staticClass:"centered already-voted"},[e._v(" You have voted! ")])]):e._e()])},N=[],M=a("53ca"),L={name:"voting",data:function(){return{answers:[],state:"V",stateTimer:null,code:"",selected:"",voted:!1,host:"",advance:!1,votes:0}},methods:{getState:function(){var e=this;_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.advance=t.data.winner_determined})),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.state=t.data.state})).catch((function(t){e.showGetErr({message:t,title:"getState - voting"})})),"R"===this.state?(console.log("res"),this.gotoRes()):"D"===this.state&&this.leaveGame(),_.a.post("/api/rooms/"+e.$route.params.code+"/uservotes",{user_name:e.$route.params.username}).then((function(t){e.votes=t.data.votes}))},leaveGame:function(){var e=this;window.clearInterval(e.stateTimer),_.a.post("/api/rooms/"+e.$route.params.code+"/removeuser",{user_name:e.$route.params.username}).catch((function(t){e.showGetErr({message:t,title:"leaveGame - voting"})})),this.$router.push("/").catch((function(e){}))},gotoRes:function(){console.log("going res");var e=this;window.clearInterval(e.stateTimer),e.host===e.$route.params.username&&_.a.post("/api/rooms/"+e.$route.params.code+"/determinewinner",{}),_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"R"}).then((function(t){_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"R"}),_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"R"}),console.log("determine winner resp:\n"),console.log(t)})).then(e.$router.push("/results/"+e.$route.params.code+"/"+e.$route.params.username).catch((function(e){})))},endGame:function(){var e=this;_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"D"}).then((function(t){_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"D"}),_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"D"}),window.clearInterval(e.stateTimer),_.a.post("/api/rooms/"+e.$route.params.code+"/removeuser",{user_name:e.$route.params.username}).then((function(){e.$router.push("/").catch((function(e){}))})).catch((function(t){e.showGetErr({message:t,title:"endGame - voting"})}))})).catch((function(t){e.showGetErr({message:t,title:"endGame - voting"})}))},endMouse:function(e){e&&this.endGame()},lobbyMouse:function(e){e&&this.gotoLobby()},makeVote:function(e){var t=this;this.selected=e,e===this.$route.params.username?(this.showVoteErr(),this.selected=e):_.a.post("/api/rooms/"+t.$route.params.code+"/vote",{user_name:t.$route.params.username,user_selected:t.selected,locked:!1})},lock:function(e){var t=this;e&&(this.selected!=this.$route.params.username?(_.a.post("/api/rooms/"+t.$route.params.code+"/vote",{user_name:t.$route.params.username,user_selected:t.selected,locked:!0}),this.voted=!0):this.showVoteErr())},votesBAD:function(e){var t=this;_.a.post("/api/rooms/"+t.$route.params.code+"/uservotes",{user_name:e}).then((function(e){return e.data.votes}))}},asyncComputed:{isHost:function(){var e=this;return _.a.get("/api/rooms/"+e.$route.params.code).then((function(e){return e.data.host}))}},created:function(){document.title=this.$route.params.code+" - Voting";var e=this;_.a.get("/api/rooms/"+e.$route.params.code+"/getanswers").then((function(t){console.log(t.data),e.answers=t.data,console.log(Object(M["a"])(e.answers))})).catch((function(t){e.showGetErr({message:t,title:"created - voting"})})),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.code=t.data.room_code})),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.host=t.data.host}))},mounted:function(){var e=this;this.stateTimer=window.setInterval((function(){e.getState()}),1e3)},notifications:{showGetErr:{title:"Request Error",message:"Issue goes here",type:"error"},showVoteErr:{message:"You can't vote for yourself!",type:"error"}}},W=L,Y=(a("bb09"),Object(c["a"])(W,V,N,!1,null,"dd689804",null)),Q=Y.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},[e.time>2&&e.time<6?a("div",{staticClass:"centerContainer"},[a("h1",[e._v(e._s(e.faker)+" was the odd one out!")])]):e._e()]),a("transition",[a("div",{directives:[{name:"show",rawName:"v-show",value:e.time>6,expression:"time > 6"}]},[a("div",{staticClass:"centerContainer-list"},e._l(e.players,(function(t,o){return a("button",{key:t,staticClass:"card animated rollIn"},[a("div",{staticClass:"top"},[e._v(" "+e._s(t)+" ")]),a("div",{staticClass:"bottom"},[e._v(" "+e._s(e.points[o])+" points "),t==e.faker&&!1===e.caught?a("div",[a("br"),e._v(" Got away! ")]):e._e()])])})),0),a("div",{staticClass:"centered"},[a("br"),a("div",{staticClass:"centerContainer-buttons"},[a("br"),e.host===e.$route.params.username?a("button",{staticClass:"glow-on-hover",on:{click:e.lobbyMouse}},[e._v("Play Again!")]):e._e(),a("br"),e.host===e.$route.params.username?a("button",{staticClass:"glow-on-hover",on:{click:e.endMouse}},[e._v("Close Lobby")]):e._e()])])])])],1)},H=[],z={name:"results",data:function(){return{players:[],state:"R",host:"",stateTimer:null,votes:[],intro:!1,faker:"",caught:null,voteCount:0,points:[],introTimer:null,time:0}},methods:{getState:function(){var e=this;console.log("got state"),console.log("who is caught:"+e.caught),console.log(this.state),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.state=t.data.state,e.caught=t.data.caught,e.points=t.data.user_points})).catch((function(t){e.showGetErr({message:t,title:"getState error"})})),"W"===this.state?(console.log("lobby time"),this.gotoLobby()):"D"===this.state&&this.leaveGame()},introUpdate:function(){this.time=this.time+1,this.time>10&&window.clearInterval(this.introTimer)},endMouse:function(e){e&&this.endGame()},lobbyMouse:function(e){e&&(console.log("clicked"),this.gotoLobby())},endGame:function(){var e=this;_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"D"}).then((function(t){_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"D"}),_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"D"}),window.clearInterval(e.stateTimer),_.a.post("/api/rooms/"+e.$route.params.code+"/removeuser",{user_name:e.$route.params.username}).then((function(){e.$router.push("/").catch((function(e){}))})).catch((function(t){e.showGetErr({message:t,title:"endGame - voting"})}))})).catch((function(t){e.showGetErr({message:t,title:"endGame - voting"})}))},gotoLobby:function(){console.log("going lobby");var e=this;window.clearInterval(e.stateTimer),_.a.post("/api/rooms/"+e.$route.params.code+"/clearroom",{}),_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"W"}),_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"W"}),_.a.post("/api/rooms/"+e.$route.params.code+"/setstate",{state:"W"}),this.$router.push("/lobby/"+e.$route.params.code+"/"+e.$route.params.username).catch((function(e){}))},leaveGame:function(){var e=this;window.clearInterval(e.stateTimer),_.a.post("/api/rooms/"+e.$route.params.code+"/removeuser",{user_name:e.$route.params.username}).catch((function(t){e.showGetErr({message:t,title:"leaveGame - voting"})})),this.$router.push("/").catch((function(e){}))}},mounted:function(){var e=this;this.stateTimer=window.setInterval((function(){e.getState()}),500),this.introTimer=window.setInterval((function(){e.introUpdate()}),1e3)},created:function(){var e=this;_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.faker=t.data.user_wrong,e.caught=t.data.caught,e.voteCount=t.data.vote_count,e.votes=t.data.voted_array,e.points=t.data.user_points,e.players=t.data.user_list,e.host=t.data.host}))},asyncComputed:{isCaught:function(){var e=this;_.a.get("/api/rooms/"+e.$route.params.code).then((function(e){return console.log("get caught resp:\n"),console.log(e),e.data.caught}))}},notifications:{showGetErr:{title:"Request Error",message:"Issue goes here",type:"error"}}},X=z,B=(a("d30d"),Object(c["a"])(X,U,H,!1,null,"8ed2ed0e",null)),F=B.exports,J=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h1",{attrs:{id:"rCode"}},[e._v("Room code: "+e._s(e.$route.params.code)+" ")]),a("transition",{attrs:{"enter-active-class":"animated fadeIn delay-1s","leave-active-class":"animated fadeOut"}},[e.playing?e._e():a("h1",[e._v("The lobby is open!")])]),a("transition",{attrs:{"enter-active-class":"animated fadeIn delay-1s","leave-active-class":"animated fadeOut"}},[e.playing?a("h1",[e._v("The lobby is closed")]):e._e()]),a("br"),a("transition",{attrs:{"enter-active-class":"animated fadeIn delay-1s","leave-active-class":"animated fadeOut"}},["V"===e.state?a("h1",[e._v(" "+e._s(e.question)+" ")]):e._e()]),a("br"),a("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut"}},["V"===e.state?a("h1",[e._v("Users have answered: ")]):e._e(),"R"===e.state?a("h1",[e._v("Results: ")]):e._e(),"R"===e.state?a("div",{staticClass:"centered"},[a("div",e._l(e.players,(function(t,o){return a("button",{key:t,staticClass:"card animated rollIn"},[a("div",{staticClass:"top"},[e._v(" "+e._s(t)+" ")]),a("div",{staticClass:"bottom"},[e._v(" "+e._s(e.points[o])+" points "),t===e.faker&&!1===e.caught?a("div",[a("br"),e._v(" Got away! ")]):e._e()])])})),0)]):e._e()]),a("br"),"V"===e.state?a("div",{staticClass:"centered"},e._l(e.answers,(function(t){return a("button",{key:t,staticClass:"card animated rollIn"},[a("div",{staticClass:"top"},[e._v(" "+e._s(t.user_name)+" said: ")]),a("div",{staticClass:"bottom"},[e._v(" "+e._s(t.answer)+" ")]),a("div")])})),0):e._e()],1)},K=[],Z=(a("ac1f"),a("1276"),{name:"spectator",data:function(){return{answers:[],state:"N",stateTimer:null,code:"",selected:"",buttonArray:[],animTimer:null,playing:!1,votedArray:[],lastState:"N",got:!1,question:"",qID:0,players:[],points:[]}},methods:{getState:function(){var e=this;"V"!==this.state||this.got||_.a.get("/api/rooms/"+e.$route.params.code+"/getanswers").then((function(t){e.answers=t.data,e.got=!0})),"W"===this.state&&(this.got=!1,this.answers=[]),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){"W"===t.data.state?(e.playing=!1,e.players=t.data.user_list):e.playing=!0})),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.votedArray=t.data.voted_array,e.points=t.data.user_points,console.log(e.votedArray)})),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.state=t.data.state})).catch((function(t){e.showGetErr({message:t,title:"getSTate - voting"})})),"D"===this.state&&(window.clearInterval(e.animTimer),window.clearInterval(e.stateTimer),this.showExitMsg(),this.$router.push("/").catch((function(e){}))),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.qID=t.data.question_id,_.a.get("/api/questions/"+e.qID+"/right").then((function(t){e.question=t.data.prompt}))}))},updateAnim:function(){var e=["bounce","flash","pulse","rubberBand","rubberBand","headShake","swing","tada","wobble","jello"],t=e[Math.floor(Math.random()*e.length)],a=document.getElementById("rCode"),o=a.classList;while(o.length>0)o.remove(o.item(0));o.add("animated",t),console.log("animated "+t)},votes:function(e){var t,a=0;for(t=0;t<this.votedArray.length;t++){var o=this.votedArray[t].split(",");e===o&&(a+=1)}return a}},computed:{voteCount:function(e){return 0}},asyncComputed:{isHost:function(){var e=this;return _.a.get("/api/rooms/"+e.$route.params.code).then((function(e){return e.data.host}))}},created:function(){document.title=this.$route.params.code+" - Results";var e=this;_.a.get("/api/rooms/"+e.$route.params.code+"/getanswers").then((function(t){console.log(t.data),e.answers=t.data,console.log(Object(M["a"])(e.answers))})).catch((function(t){e.showGetErr({message:t,title:"created - voting"})})),_.a.get("/api/rooms/"+e.$route.params.code).then((function(t){e.code=t.data.room_code,e.points=t.data.user_points,e.players=t.data.user_list}))},mounted:function(){var e=this;this.stateTimer=window.setInterval((function(){e.getState()}),700),this.animTimer=window.setInterval((function(){e.playing||e.updateAnim()}),5e3)},notifications:{showGetErr:{title:"Request Error",message:"Issue goes here",type:"error"},showVoteErr:{message:"You can't vote for yourself!",type:"error"},showExitMsg:{message:"This lobby has been closed!",type:"info"}}}),ee=Z,te=(a("4823"),Object(c["a"])(ee,J,K,!1,null,"19043e84",null)),ae=te.exports;o["a"].use(m["a"]);var oe=new m["a"]({mode:"history",routes:[{path:"/",name:"1DIOT",component:G,meta:{title:"1DIOT",metaTags:[{name:"description",content:"One Idiot - find the odd one out!"},{property:"og:description",content:"One Idiot - find the odd one out!"}]}},{path:"/lobby/:code/:username",name:"Lobby",component:D,meta:{title:"1DIOT",metaTags:[{name:"description",content:"One Idiot - find the odd one out!"},{property:"og:description",content:"One Idiot - find the odd one out!"}]}},{path:"/game/:code/:username",name:":code",component:P,meta:{title:"1DIOT",metaTags:[{name:"description",content:"One Idiot - find the odd one out!"},{property:"og:description",content:"One Idiot - find the odd one out!"}]}},{path:"/spectator/:code",name:"Specator",component:ae,meta:{title:"1DIOT",metaTags:[{name:"description",content:"One Idiot - find the odd one out!"},{property:"og:description",content:"One Idiot - find the odd one out!"}]}},{path:"/voting/:code/:username",name:"Voting",component:Q,meta:{title:"1DIOT",metaTags:[{name:"description",content:"One Idiot - find the odd one out!"},{property:"og:description",content:"One Idiot - find the odd one out!"}]}},{path:"/results/:code/:username",name:"Results",component:F,meta:{title:"1DIOT",metaTags:[{name:"description",content:"One Idiot - find the odd one out!"},{property:"og:description",content:"One Idiot - find the odd one out!"}]}},{path:"*",component:g,meta:{title:"Not Found",metaTags:[{name:"description",content:"Page not found"},{property:"og:description",content:"Page not found"}]}}]}),se=a("a7fe"),ne=a.n(se),re=a("6ca7"),ie=a("3003"),ce=a("786f"),ue={success:"success",error:"error",info:"info",warn:"warn"};function le(e){var t=e.title,a=e.message,o=e.type,s=e.timeout,n=e.cb;return ce["a"][o](a,t,s,n)}ce["a"].init({types:ue});var me={success:le,error:le,info:le,warn:le};o["a"].use(re["a"],me),o["a"].use(ne.a,_.a),o["a"].use(ie["a"]),o["a"].config.productionTip=!1,new o["a"]({router:oe,render:function(e){return e(l)}}).$mount("#app")},"7a12":function(e,t,a){},"7f97":function(e,t,a){},8133:function(e,t,a){},"85af":function(e,t,a){"use strict";var o=a("3270"),s=a.n(o);s.a},"85ec":function(e,t,a){},"9c7e":function(e,t,a){"use strict";var o=a("f55b"),s=a.n(o);s.a},bb09:function(e,t,a){"use strict";var o=a("2205"),s=a.n(o);s.a},d30d:function(e,t,a){"use strict";var o=a("7f97"),s=a.n(o);s.a},db02:function(e,t,a){"use strict";var o=a("7a12"),s=a.n(o);s.a},f55b:function(e,t,a){}});
//# sourceMappingURL=app.d5ce2697.js.map